{"version":3,"sources":["images/pdf.svg","images/cross.svg","images/logo.svg","images/upload.svg","images/search.svg","Navbar.js","images/uniLogo.png","images/dots.svg","images/arrow.svg","components/note.js","Home.js","reset-password.js","components/Modal.js","Profile.js","components/UploadArea.js","images/site_preview_pic.svg","images/site_preview_pic1.svg","notLoggedIn.js","images/defaultProfPic2.png","comment.js","notePreview.js","components/courseNote.js","SearchPage.js","App.js","index.js"],"names":["Navbar","props","state","loading","profile","searchTerm","loggedIn","menuShown","loginCallback","failCallback","uploadCallback","searchCallback","getProfileInfo","bind","search","showMenu","this","setState","username","token","a","fetch","response","json","resdata","prevProps","event","target","value","className","to","src","logo","alt","id","onChange","placeholder","onClick","upload","picture","style","display","alignSelf","marginLeft","inst","role","aria-label","score","React","Component","UploadArea","showDesc","tglDesc","pdf","title","hideRight","unitcode","width","dots","transform","arrow","description","hideUnder","pens","downloads","Home","UniLogo","Modal","handleClose","show","children","showHideClassName","cross","Profile","myusername","unitFilter","possUnits","handleSearch","error","Name","Biography","map","unit","i","type","UnitCode","checked","user","method","headers","body","JSON","stringify","defaultChecked","units","some","x","UnitName","Score","posts","note","Title","includes","File","Pens","Downloads","Description","drag","dropRef","createRef","handleDrag","e","preventDefault","stopPropagation","handleDragIn","handleDragOut","handleDrop","dataTransfer","files","handleClick","document","getElementById","click","div","current","addEventListener","removeEventListener","ref","onInput","name","multiple","filetype","NotLoggedInPage","content","text","otherside","flexDirection","justifyContent","setTab","loginModalShow","marginBottom","fontSize","color","background","border","fontWeight","SUPic1","SUPic2","height","Comment","profilePicture","author","time","console","log","NotePreview","path","getNoteInfo","defaultPP","window","open","courseNote","courseName","SearchPage","searchResults","getSearchPosts","length","result","App","cookies","Cookies","get","showLogin","showUpload","currentTab","login","fileUploaded","setCurrentTab","failedRequest","signin","hashPassword","createAccount","publishFile","signInTabs","label","defaultValue","password","hashedPassword","sha256","toString","cur","inputs","push","forEach","nextElementSibling","innerHTML","classList","remove","element","err","add","isErr","match","fine","email","passwordHash","resjson","displayedError","toLowerCase","set","no","split","module","formData","FormData","append","temp","splice","find","tab","file","component","Reset","render","data","params","noteid","searchid","ReactDOM"],"mappings":"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","file":"static/js/main.deac893a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/pdf.1472d49b.svg\";","export default __webpack_public_path__ + \"static/media/cross.f590db2b.svg\";","export default __webpack_public_path__ + \"static/media/logo.a8d56e25.svg\";","export default __webpack_public_path__ + \"static/media/upload.07ea655c.svg\";","export default __webpack_public_path__ + \"static/media/search.3dac5b67.svg\";","import React, {useState} from 'react';\nimport logo from './images/logo.svg';\nimport upload from './images/upload.svg';\nimport search from './images/search.svg';\n\nimport { Link } from 'react-router-dom'\n\nimport './App.css';\n\nclass Navbar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            profile: null,\n            searchTerm: \"\",\n            loggedIn:props.loggedIn,\n            menuShown:false,\n        };\n        this.loginCallback = props.loginCallback;\n        this.failCallback = props.failCallback;\n        this.uploadCallback = props.uploadCallback;\n        this.searchCallback = props.searchCallback;\n        this.getProfileInfo = this.getProfileInfo.bind(this);\n        this.search = this.search.bind(this);\n        this.showMenu = this.showMenu.bind(this);\n\n    }\n\n    showMenu(){\n        this.setState({menuShown : !this.state.menuShown})\n\n    }\n\n    async getProfileInfo(username, token) {\n        let response = await fetch(\"/getUserPreview/\"+username+\"&token=\"+token);\n        let resdata = await response.json();\n        if (resdata.username){\n            this.setState({ profile: resdata,loading: false,loggedIn:true})\n        } else {\n            this.failCallback()\n            this.setState({ profile: null,loading: true,loggedIn:false})\n        }\n    }\n\n    componentDidMount() {\n        this.setState({ loggedIn: this.props.loggedIn })\n        if (this.props.loggedIn){\n            this.getProfileInfo(this.props.username, this.props.token)\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.loggedIn !== this.props.loggedIn || prevProps.token !== this.props.token){\n            this.setState({ loggedIn: this.props.loggedIn })\n            if (this.props.loggedIn){\n                this.getProfileInfo(this.props.username, this.props.token)\n            }\n        }\n    }\n    search(event) {\n      this.setState({searchTerm: event.target.value});\n      this.searchCallback(event);\n    }\n\n    render() {\n        return (\n\n            <>\n                <div className=\"navbar\">\n                    <Link to=\"/\" className=\"navbar-logo clickable\">\n                        <img src={logo} alt=\"Metis Logo\" />\n                        <div>metis</div>\n                    </Link>\n                <div className=\"navbar-search\">\n                      <Link to={\"/search/\"+this.state.searchTerm}>\n                      <img src={search} alt=\"Search button\" className=\"clickable\"  />\n                      </Link>\n                    <input id=\"searchInput\"  onChange={event => {this.search(event)}} placeholder=\"Search...\"/>\n                </div>\n                    {this.state.loggedIn ? (\n                        <div className=\"navbar-upload hover clickable\" onClick={this.uploadCallback}>\n                            <img src={upload} alt=\"Upload button\"/>\n                        </div>\n                    ) : (<></>)\n                    }\n                    {/* if its loading the profile say its loading, if not logged in show the login button, if not loading and logged in show profile */}\n                    {this.state.loggedIn ? (this.state.loading || !this.state.profile) ? \n                            (\n                                <div className=\"navbar-profile\">Loading...</div>\n                            ) : (\n                                <div className=\"navbar-profile\">\n                                    <div className=\"clickable\" onClick={this.showMenu}>\n                                        <img src={this.state.profile.picture} alt=\"Profile Pic\" />\n                                    </div>\n                                    <div className=\"navbar-profile-content\" >\n                                        <div style={{display:\"flex\"}}>\n                                            <div onClick={this.showMenu} className=\"navbar-profile-name clickable\">{this.state.profile.username}</div>\n                                            <div className=\"clickable\" onClick={this.showMenu} style={{alignSelf:\"center\", marginLeft:\"4px\"}}>v</div>\n                                        </div>\n                                        <div className=\"navbar-profile-uni\">{this.state.profile.inst}</div>\n                                        <div className=\"navbar-profile-pens\"><span role=\"img\" aria-label=\"pen\">🖋️</span> {this.state.profile.score} pens</div>\n                                    </div>\n                                </div>\n\n                            ) : (\n                                <div className=\"navbar-profile navbar-signin hover clickable\" onClick={this.loginCallback}>Sign In</div>\n                            )}\n                </div>\n                {(this.state.loggedIn && this.state.menuShown) ? (this.state.loading || !this.state.profile) ? \n                        (\n                            <div className=\"navbar-profile\">Loading...</div>\n                        ) : (                \n                            <div className=\"navbar-profile-dropdown\">\n                                <Link onClick={this.showMenu} to={\"/profile/\"+this.state.profile.username} className=\"hover clickable\">MY PROFILE</Link> \n                                <div onClick={() => {\n                                    this.failCallback();\n                                    this.showMenu()\n                                }} className=\"hover clickable\">SIGN OUT</div> \n                            </div>\n                        ) : (<></>)}\n            </>\n        );\n}\n}\n\nexport default Navbar;\n","export default __webpack_public_path__ + \"static/media/uniLogo.7666b3f1.png\";","export default __webpack_public_path__ + \"static/media/dots.65dc6538.svg\";","export default __webpack_public_path__ + \"static/media/arrow.0d036292.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport '../App.css';\n\nimport dots from '../images/dots.svg';\nimport arrow from '../images/arrow.svg';\nimport pdf from '../images/pdf.svg';\n\nclass UploadArea extends React.Component {\n    state = {\n        showDesc:false\n    }\n    tglDesc = () => {\n        this.setState({showDesc:!this.state.showDesc})\n    }\n    render() {\n        return (\n            <div className=\"note-preview\">\n                <div className=\"note-preview-content\">\n                    <div className=\"note-preview-header\">\n                        <div className=\"note-preview-left\">\n                            <img className=\"note-preview-pdf\" alt=\"PDF\" src={pdf}/>\n                            <Link to={\"/note/\"+this.props.id} className=\"note-preview-name\">{this.props.title}</Link>\n                        </div>\n                        { this.props.hideRight ?  (<></>) :\n                          (<div className=\"note-preview-right\">\n                            <div className=\"note-preview-module\">{this.props.unitcode}</div>\n                            <img width=\"32px\" alt=\"choice dots\" src={dots}/>\n                            <img width=\"32px\" alt=\"open note\" className=\"clickable\" onClick={this.tglDesc} style={ this.state.showDesc ?{transform: \"rotate(180deg)\"}:{}} src={arrow}/>\n                          </div>)\n                        }\n                    </div>\n\n                    { this.state.showDesc ? (\n                        <div className=\"note-preview-description\">\n                            {this.props.description}\n                        </div>) : (<></>)\n                    }\n                </div>\n                { this.props.hideUnder ?  (<></>) :\n                  (<div className=\"note-preview-under\">\n                  <div><span role=\"img\" aria-label=\"pen\">🖋️</span> {this.props.pens} pens</div>\n                  <div>{this.props.downloads} downloads</div>\n                  {/*<div>{note.comments} comments</div>*/}\n                  </div>)\n                }\n              </div>\n\n        );\n    }\n}\n\nexport default UploadArea;\n","import React from 'react';\nimport './App.css';\nimport './HomeCSS.css';\n\nimport UniLogo from './images/uniLogo.png'\nimport Note from './components/note.js';\n\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        };\n    }\n    render() {\n        return (\n            <div className=\"home\">\n            <div className = \"top-left\">\n              <h1>My Courses</h1>\n              <div className =\"note-container\">\n              <Note key={12} title=\"Test 1\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true}/>\n              </div>\n              <div className =\"note-container\">\n              <Note key={12} title=\"Test 2\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true} />\n              </div>\n              <div className =\"note-container\">\n              <Note key={12} title=\"Test 3\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true} />\n              </div>\n              <div className =\"note-container\">\n              <Note key={12} title=\"Test 4\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true} />\n              </div>\n              <div className =\"note-container\">\n              <Note key={12} title=\"Test 4\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true} />\n              </div>\n\n            </div>\n            <div className = \"top-right\">\n              <h1>My Notes</h1>\n            </div>\n            <img src = {UniLogo} className = \"uni-logo\"/>\n            <div className = \"bottom-left\">\n              <h1>Bottom Left</h1>\n            </div>\n            <div className = \"bottom-right\">\n              <h1>Bottom Right</h1>\n            </div>\n\n            </div>\n        );\n    }\n}\n\nexport default Home;\n","import React from 'react';\nimport './App.css';\n\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        };\n    }\n    render() {\n        return (\n            <div className=\"home\">\n            </div>\n        );\n    }\n}\n\nexport default Home;\n","import React from 'react';\n\nimport '../App.css';\n\nimport cross from '../images/cross.svg';\n\nconst Modal = ({className, handleClose, show, children }) => {\n    const showHideClassName = show ? \"display-block\" : \"display-none\";\n\n    return (\n        //if the modal should be shown\n        <div className={showHideClassName}>\n            {/* background area darken, let it close when clicking off the modal */}\n            <div className=\"modal-darken\" onClick={handleClose}>\n            </div>\n            <section className={`modal-main ${className}`}>\n                {children}\n                {/* cross in top right to close */}\n                <img src={cross} alt=\"Close\" className=\"modal-close clickable hover\" onClick={handleClose}/>\n            </section>\n        </div>\n    );\n};\n\nexport default Modal;\n","import React from 'react';\nimport './App.css';\n\nimport Note from './components/note.js';\n\nclass Profile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            profile: null,\n            myusername:props.myusername,\n            token:props.token,\n            loggedIn:props.loggedIn,\n            search:\"\",\n            unitFilter:\"all\",\n            possUnits:[]\n        };\n        this.failCallback = props.failCallback;\n        this.getProfileInfo = this.getProfileInfo.bind(this);\n        this.handleSearch = this.handleSearch.bind(this);\n    }\n    async getProfileInfo(username, token) {\n        let response = await fetch(\"/getUserInfo/\"+username+\"&token=\"+token);\n        let resdata = await response.json();\n        resdata.username = username;\n        if (resdata.error){\n            if(resdata.error == \"No user found\"){\n                this.setState({ profile: resdata,loading: false,loggedIn:true})\n            } else {\n                this.failCallback()\n                this.setState({ profile: null,loading: false,loggedIn:false})\n            }\n        } else {\n            this.setState({ profile: resdata,loading: false,loggedIn:true})\n        }\n        if (username === this.state.myusername){\n            let response = await fetch(\"/getPotentialUnits/\"+username+\"&token=\"+token);\n            let resdata = await response.json();\n            if (resdata.error){\n                this.failCallback()\n                this.setState({ profile: null,loading: false,loggedIn:false})\n            } else {\n                this.setState({possUnits:resdata})\n            }\n        }\n    }\n\n    handleSearch(event) {    this.setState({search: event.target.value});  }\n\n    componentDidMount() {\n        this.setState({ loggedIn: this.props.loggedIn,myusername:this.props.myusername,token:this.props.token })\n        if (this.props.loggedIn){\n            this.getProfileInfo(this.props.username, this.props.token)\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.username !== this.props.username || prevProps.loggedIn !==this.props.loggedIn){\n            this.setState({ loggedIn: this.props.loggedIn,myusername:this.props.myusername,token:this.props.token })\n            if (this.props.loggedIn){\n                this.getProfileInfo(this.props.username, this.props.token)\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"profile\">\n                {this.state.loggedIn ? (this.state.loading || !this.state.profile) ?\n                        (\n                    \"Loading...\"\n                        ) :  (this.state.profile.error) ? (\"no user \" + this.props.username + \" exists\") : (\n                    <>\n                        <div className=\"profile-content\">\n                            <img className=\"profile-content-picture\" alt=\"profile img\" src={this.state.profile.picture}/>\n                            <div className=\"profile-content-username\">{this.state.profile.username}</div>\n                            <div className=\"profile-content-uni\">{this.state.profile.Name}</div>\n                            <div>{this.state.profile.Biography}</div>\n                            {\n                                this.state.possUnits.map((unit,i) => {return (\n                                    <label>\n                                        <input type=\"checkbox\" value={unit.UnitCode} onChange={(event) => {\n                                            if (event.target.checked){\n                                                //join unit\n                                                let user = {\n                                                    username : this.state.myusername,\n                                                    token: this.state.token,\n                                                    unitcode: event.target.value\n                                                }\n                                                fetch('/joinUnit', {\n                                                    method: 'POST',\n                                                    headers: {\n                                                        'Content-Type': 'application/json;charset=utf-8'\n                                                    },\n                                                    body: JSON.stringify(user)\n                                                });\n                                            } else {\n                                            }\n\n                                        }} defaultChecked={this.state.profile.units.some(x => x.UnitCode === unit.UnitCode)}/>\n                                        {unit.UnitName} ({unit.UnitCode})\n                                    </label>\n                                )})\n                            }\n                            <div className=\"profile-content-pens\"><span role=\"img\" aria-label=\"pen\">🖋️</span> {this.state.profile.Score} pens</div>\n                        </div>\n                        <div className=\"profile-notes\">\n                            <div className=\"profile-notes-input\">\n                                <input placeholder=\"Search for a note...\" className=\"profile-input-search\" type=\"text\" value={this.state.search} onChange={this.handleSearch} />\n                                <select value={this.state.unitFilter} className=\"profile-input-module\" onChange={(event) => {this.setState({unitFilter:event.target.value})}}>\n                                    <option value=\"all\">All</option>\n                                    {this.state.profile.units.map((unit,i)=>{return (\n                                        <option key={i} value={unit.UnitCode}>{unit.UnitCode}</option>\n                                    )})}\n                                </select>\n                            </div>\n                            <div>\n                                {this.state.profile.posts.map((note, i) => {\n                                    if (note.Title.includes(this.state.search)) {\n                                        if (this.state.unitFilter === \"all\" || note.UnitCode === this.state.unitFilter ){\n                                            return (\n                                                <Note key={i} title={note.Title} id={note.File} unitcode={note.UnitCode} pens={note.Pens} downloads={note.Downloads} description={note.Description}/>\n                                            )}\n                                    }\n                                })}\n                            </div>\n                        </div>\n                    </>\n                ): (\n                    \"need to be signed in to view \" + this.props.username\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Profile;\n","import React from 'react';\nimport '../App.css';\n\nclass UploadArea extends React.Component {\n    state = {\n        drag: false\n    }\n    dropRef = React.createRef()  \n\n    handleDrag = (e) => {\n        //disable the default when something is being dragged\n        e.preventDefault()\n        e.stopPropagation()\n    }\n    handleDragIn = (e) => {\n        //if dragging a file ontop of the area set that there is a drag on to true\n        e.preventDefault()\n        e.stopPropagation()\n        this.setState({drag: true})\n    }\n    handleDragOut = (e) => {\n        //if dragging a file out of the area set that there is a drag happening to false\n        e.preventDefault()\n        e.stopPropagation()\n        this.setState({drag: false})\n    }\n    handleDrop = (e) => {\n        //when something is dropped in give the file data to the handler\n        e.preventDefault()\n        e.stopPropagation()\n        this.setState({drag: false})\n        this.props.handleDrop(e.dataTransfer.files)\n    }\n\n    handleClick = (e) => {\n        //when it is click opent he file browser and give the files to the handler \n        document.getElementById(\"browse\").click()\n        this.setState({drag: false})\n    }\n    onChange = (e) =>{\n        this.props.handleDrop(e.target.files)\n    }\n    componentDidMount() {\n        //set up listeners\n        let div = this.dropRef.current\n        div.addEventListener('dragenter', this.handleDragIn)\n        div.addEventListener('dragleave', this.handleDragOut)\n        div.addEventListener('dragover', this.handleDrag)\n        div.addEventListener('drop', this.handleDrop)\n    }\n    componentWillUnmount() {\n        //remove the listeners (GC)\n        let div = this.dropRef.current\n        div.removeEventListener('dragenter', this.handleDragIn)\n        div.removeEventListener('dragleave', this.handleDragOut)\n        div.removeEventListener('dragover', this.handleDrag)\n        div.removeEventListener('drop', this.handleDrop)\n    }\n\n    render() {\n        return (\n            <div ref={this.dropRef} onClick={this.handleClick} className={`uploadArea clickable ${this.state.drag ? \"dragging\" : \"\"}`}>\n                <input onInput={this.onChange} type=\"file\" id=\"browse\" name=\"fileupload\" style={{display: \"none\"}}  multiple/>\n                <div className=\"uploadAreaText\">\n                    Drag and drop {this.props.filetype ? this.props.filetype : \"PDF\"} or click to browse\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default UploadArea;\n","export default __webpack_public_path__ + \"static/media/site_preview_pic.ec187d6a.svg\";","export default __webpack_public_path__ + \"static/media/site_preview_pic1.f2d8afa4.svg\";","import React from 'react';\n\nimport './nlicss.css';\nimport './App.css';\n\nimport logo from './images/logo.svg';\nimport SUPic1 from './images/site_preview_pic.svg';\nimport SUPic2 from './images/site_preview_pic1.svg';\n\nclass NotLoggedInPage extends React.Component {\n    state={\n        content:[{ \n            title:\"Discover and Share Course Notes!\",\n            text:(<>Metis is the quickest and easiest way of downloading and sharing course notes. Never feel alone and unprepared again, the large metis community of students are publishing their course notes and are providing feedback on others each day. <em>This is Metis.</em></>),\n            otherside:(\n                <div style={{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"}}>\n                    <button className=\"clickable hover\" onClick={() => {\n                        this.props.setTab(\"signin\");\n                        this.props.loginModalShow();\n                    }}  style={{marginBottom:\"24px\", fontSize:\"20px\",color:\"rgba(128,208,255,1)\",background:\"rgba(128,208,255,0.2)\",border:\"none\",fontWeight:\"600\"}}>SIGN IN</button>\n                    <button className=\"clickable hover\" onClick={() => {\n                        this.props.setTab(\"create\");\n                        this.props.loginModalShow();\n                    }} style={{marginBottom:\"24px\", fontSize:\"20px\",color:\"rgba(110,126,136,1)\",background:\"rgba(128,208,255,1)\",border:\"none\",fontWeight:\"600\"}}>CREATE ACCOUNT</button>\n                </div>),\n            color:\"#555555\"\n        },{ \n            title:\"All Your Courses In One Place!\",\n            text:\"The Metis community have provided notes on a vast array of topics for all courses. After signing up you are automatically shown the relevant notes for your current course content.\",\n            otherside:(<img alt=\"list of notes screenshot\" style={{width:\"45%\"}} src={SUPic1}/>),\n            color:\"#7e7474\"\n        },{ \n            title:\"Join The Metis Community Today!\",\n            text:\"Metis is a powerful and completely free revision tool that anyone can use. Just sign up using a valid university email address and get browsing and uploading notes!\",\n            otherside:(<img alt=\"list of notes screenshot\" style={{width:\"45%\"}} src={SUPic2}/>),\n            color:\"#c4b6b6\"\n        }]\n    }\n    render() {\n        return(\n            <div className=\"notloggedin\">\n                {this.state.content.map((x,i)=>(\n                    <div key={i} style={{\"background\":x.color}} className=\"section\">\n                        <div className=\"text\"> {/* left */}\n                            <div className=\"title\">\n                                <img width=\"100px\" height=\"100px\" alt=\"metis logo\" src={logo} />\n                                <div>{x.title}</div>\n                            </div> {/* title */}\n                            <div className=\"content\">{x.text}</div> {/* content */}\n                        </div>\n                        {x.otherside}\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n\nexport default NotLoggedInPage\n","export default \"data:image/png;base64,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\"","import './previewTempCSS.css';\n\nimport React from 'react';\n\nfunction Comment(props) {\n  /*\n    Props: author, profilePicture, text , time\n    -All currently strings however time should be changed\n  */\n  return (\n    <div className=\"comment-container\">\n      <img src={props.profilePicture} alt=\"Profile Picture\" />\n      <div className = \"comment-info\">\n        <h1>{props.author}\n          <p className = \"inline\">·{props.time}</p>\n        </h1>\n        <p>{props.text}</p>\n      </div>\n      <p className=\"comment-like-reply\"><span onClick={() => {console.log('Temp Like')}}>like</span>·<span onClick={() => {console.log('REPLY')}}>reply</span></p>\n    </div>\n  );\n\n}\n\n\nexport default Comment\n","import React from 'react';\n\n//https://blog.logrocket.com/react-router-dom-set-up-essential-components-parameterized-routes-505dc93642f1/\n\nimport './App.css';\nimport './previewTempCSS.css';\nimport defaultPP from './images/defaultProfPic2.png';\n\nimport Comment from './comment.js';\n\n\nclass NotePreview extends React.Component {\n    state = {\n        note:null,\n        loading:true,\n    }\n    async getNoteInfo(path, token) {\n            this.setState({ loading:true })\n        let response = await fetch(\"/getPost/\"+path+\"&token=\"+token);\n        let resdata = await response.json();\n        console.log(resdata)\n        if (resdata.error){\n            this.props.failCallback()\n            this.setState({ note:null,loading:false })\n        } else {\n            this.setState({ note:resdata,loading:false  })\n        }\n    }\n\n    componentDidMount() {\n        console.log(this.props)\n        if (this.props.token){\n            this.getNoteInfo(this.props.path, this.props.token)\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.token !== this.props.token || prevProps.path !== this.props.path){\n            this.getNoteInfo(this.props.path, this.props.token)\n        }\n    }\n    render() {\n        if (this.props.token && this.state.note){\n            return (\n                <div className=\"app\">\n                    <div className = \"breadcrumbs\">\n                        <div className =\"bc-item bc-label\">{this.state.note.UnitCode} ({this.state.note.UnitName})</div>\n                        <div className =\"bc-item bc-dot\" />\n                        <div className =\"bc-item bc-label\">This Note</div>\n                    </div>\n                    <div className = \"profile-preview\">\n                        <img src={defaultPP} alt=\"Profile Picture\" />\n                        <div className = \"profile-info\">\n                            <h1>Jerry Johnson\n                                <p className = \"inline\">·7h</p>\n                            </h1>\n                            <p>{this.state.note.UnitName}</p>\n                        </div>\n                        <div className = \"pens\">\n                            <div><span role=\"img\" aria-label=\"pen\">🖋️</span> {this.state.note.Pens} pens</div>\n                        </div>\n                    </div>\n                    <div className = \"main-preview\">\n                        <div className=\"main-note-info\">\n                            <div className=\"main-pdf-icon\">\n                                <p>PDF</p>\n                            </div>\n                            <h1>{this.state.note.Title}</h1>\n                        </div>\n                        <div className = \"main-note-body\">\n                            <p>\n                                {this.state.note.Description}\n                            </p>\n                            <div className=\"main-body-downloads\">\n                                <p>{this.state.note.Downloads} downloads</p>\n                            </div>\n                            <button onClick={() => {window.open('/documents/'+this.props.path)}} className=\"download-button\">DOWNLOAD</button>\n                        </div>\n                        <div className=\"main-pdf-preview\">\n                        </div>\n                    </div>\n                    <div className = \"join-strips\">\n                        <div className=\"strip left\" />\n                        <div className=\"strip right\" />\n                    </div>\n                    <div className = \"comment-preview\">\n                        <div className = \"comment-number\">\n                            <p>3 Comments</p>\n                        </div>\n                        <input  placeholder=\"Leave a Comment\"/>\n                        <Comment author=\"James Jameson\" text = \"Nice notes!\" profilePicture ={defaultPP} time = \"7h\" />\n                        <Comment author =\"Deez Nuts\" text = \"Oh something came in the mail today? Deez nuts. [pause for laughter]. GOTEEEEMMMM\" profilePicture = {defaultPP} time =\"5m\" />\n                        <Comment author=\"Annoyingly Long Name\" text = \"hi uwu :3\" profilePicture ={defaultPP} time = \"2d\" />\n                    </div>\n                </div>\n            )\n\n        } else {\n            if (this.state.loading){\n                return (<div>loading...</div>)\n            } else{\n                return (<div>need to be signed in</div>)\n            }\n        }\n\n    }\n\n}\n\nexport default NotePreview\n","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport '../App.css';\n\nimport dots from '../images/dots.svg';\nimport arrow from '../images/arrow.svg';\nimport pdf from '../images/pdf.svg';\n\n//PROPS: ID, courseName, unitcode\n\nclass courseNote extends React.Component {\n\n    render() {\n        return (\n            <div className=\"note-preview\">\n                <div className=\"note-preview-content\">\n                    <div className=\"note-preview-header\">\n                        <div className=\"note-preview-left\">\n\n                            <div className=\"course-preview-unitcode\">\n                              <p>{this.props.unitcode}</p>\n                            </div>\n                            <Link to={\"/note/\"+this.props.id} className=\"course-preview-name\">{this.props.courseName}</Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default courseNote;\n","import React from 'react';\n\n\nimport './App.css';\nimport './previewTempCSS.css';\nimport './searchCSS.css';\n\nimport Comment from './comment.js';\nimport Note from './components/note.js';\nimport Course from './components/courseNote.js';\n\n\nclass SearchPage extends React.Component {\n\n  constructor(props) {\n      super(props);\n      this.state = {\n          loading: true,\n          token:props.token,\n          loggedIn:props.loggedIn,\n          searchResults: null,\n      };\n      this.failCallback = props.failCallback;\n      this.getSearchPosts = this.getSearchPosts.bind(this);\n      this.getSearchPosts(this.props.username,this.props.token);\n  }\n  //Where the data is going to get gathered\n  componentDidMount() {\n      if (this.props.loggedIn){\n          this.getSearchPosts(this.props.username, this.props.token);\n      }\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.loggedIn !== this.props.loggedIn || prevProps.searchTerm !== this.props.searchTerm){\n      if (this.props.loggedIn){\n        this.getSearchPosts(this.props.username, this.props.token);\n      }\n    }\n  }\n\n  async getSearchPosts() {\n    let response = await fetch(\"/searchPosts/\"+this.props.searchTerm+\"&username=\"+this.props.username+\"&token=\"+this.props.token);\n    let resdata = await response.json();\n    console.log(resdata)\n    if(resdata.error){\n      this.failCallback();\n    }\n    this.setState({searchResults:resdata});\n  }\n\n\n  render() {\n    return (\n      <div className=\"app\">\n      <div className=\"sidebar\">\n      <h1>My Courses</h1>\n      <div className = \"my-courses-container\">\n      <Course id={2495}  unitcode =\"CM20254\" courseName=\"Data Structures\" />\n      <Course id={2495}  unitcode =\"CM20217\" courseName=\"Foundations Of Computation\" />\n      <Course id={2495}  unitcode =\"CM20219\" courseName=\"Fundamentals Of Visual Computing\" />\n      </div>\n      <h1>Recently viewed</h1>\n      <div className = \"recently-viewed-container\">\n      <Note key={12} title=\"John's best notes\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true} hideRight={true}/>\n      <Note key={12} title=\"Look here x\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true} hideRight={true}/>\n      <Note key={12} title=\"Computers\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true} hideRight={true}/>\n      </div>\n      <h1>Your posts</h1>\n      <div className = \"your-posts-container\">\n      <Note key={12} title=\"My notes computing\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\" hideUnder ={true} hideRight={true} />\n      <Note key={12} title=\"computers 2\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\"  hideUnder ={true} hideRight={true} />\n      <Note key={12} title=\"CSED BABY\" id={2495} unitcode=\"CM20225\" pens={12} downloads={14} description=\"Test note 1\"  hideUnder ={true} hideRight={true} />\n      </div>\n      </div>\n      <div className=\"results\">\n      <div className = \"breadcrumbs\">\n      <div className =\"bc-item bc-label\">University of Bath</div>\n      <div className =\"bc-item bc-dot\" />\n      <div className =\"bc-item bc-label\">CM20255</div>\n      <div className =\"bc-item bc-dot\" />\n      <div className =\"bc-item bc-label\">\"Test Note\"</div>\n      </div>\n      <div className=\"post-results\">\n      {\n        this.state.searchResults ==null ? (<p>Search Failed</p>)\n        : this.state.searchResults.length == 0 ? (<p>No results</p>) : (\n          this.state.searchResults.map((result,i) =>{\n            return (\n              <div>\n              <div className =\"post-result-container\">\n              <Note key = {i} title={result.Title} id={result.File} unitcode={result.UnitCode} pens={result.Pens} downloads={result.Downloads} description={result.Description}/>\n              </div>\n              </div>\n            )\n          })\n        )\n      }\n      </div>\n      </div>\n\n      </div>\n    );\n  }\n\n}\n\nexport default SearchPage\n","import React from 'react';\nimport { Route, Switch, Link } from 'react-router-dom'\nimport Cookies from 'universal-cookie';\n\nimport sha256 from 'crypto-js/sha256';\n\nimport pdf from './images/pdf.svg';\nimport cross from './images/cross.svg';\n\n//https://blog.logrocket.com/react-router-dom-set-up-essential-components-parameterized-routes-505dc93642f1/\n\nimport './App.css';\n\n\n\nimport Navbar from './Navbar.js';\nimport Home from './Home.js';\nimport Reset from './reset-password.js';\nimport Modal from './components/Modal.js';\nimport Profile from './Profile.js';\nimport UploadArea from './components/UploadArea.js';\nimport NotLoggedInPage from './notLoggedIn.js'\nimport NotePreview from './notePreview.js';\nimport SearchPage from './SearchPage.js';\n\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.cookies = new Cookies();\n        this.state = {\n            token: this.cookies.get('token'),\n            username: this.cookies.get('username'),\n            loggedIn: this.cookies.get('token') ? true : false,\n            showLogin: false,\n            showUpload: false,\n            currentTab:'signin',\n            profile:null,\n            searchTerm:\"\",\n            files:[]\n        };\n\n\n        this.login = this.login.bind(this);\n        this.upload = this.upload.bind(this);\n        this.fileUploaded = this.fileUploaded.bind(this);\n        this.setCurrentTab = this.setCurrentTab.bind(this);\n        this.failedRequest = this.failedRequest.bind(this);\n        this.search = this.search.bind(this);\n        this.signin = this.signin.bind(this);\n        this.hashPassword = this.hashPassword.bind(this);\n        this.createAccount = this.createAccount.bind(this);\n        this.publishFile = this.publishFile.bind(this);\n        this.getProfileInfo = this.getProfileInfo.bind(this);\n\n        if (this.username){\n            this.getProfileInfo()\n        }\n\n        //https://www.devaradise.com/react-tabs-tutorial\n        this.signInTabs = [\n            {\n                name: 'signin',\n                label: 'Sign In',\n                content: (\n                    <div className=\"accounts\">\n                        <div className=\"input\">\n                            <div>Email or Username</div>\n                            <input type=\"text\" defaultValue=\"\" id=\"username\"/>\n                            <div className=\"error-message\"></div>\n                        </div>\n                        <div className=\"input\">\n                            <div>Password</div>\n                            <input type=\"password\" defaultValue=\"\"  id=\"password\"/>\n                            <div className=\"error-message\"></div>\n                            <Link to=\"/reset-password\" onClick={this.login}>Reset Password</Link>\n                        </div>\n                        <button onClick={this.signin} className=\"clickable hover\">SIGN IN</button>\n                    </div>\n                )\n            },\n            {\n                name: 'create',\n                label: 'Create Account',\n                content: (\n                    <div className=\"accounts\">\n                        <div className=\"input\">\n                            <div>Username</div>\n                            <input type=\"text\" defaultValue=\"\" id=\"username\"/>\n                            <div className=\"error-message\"></div>\n                        </div>\n                        <div className=\"input\">\n                            <div>Email</div>\n                            <input type=\"text\" defaultValue=\"\" id=\"email\"/>\n                            <div className=\"error-message\"></div>\n                        </div>\n                        <div className=\"input\">\n                            <div>Password</div>\n                            <input type=\"password\" defaultValue=\"\" id=\"password\"/>\n                            <div className=\"error-message\"></div>\n                        </div>\n                        <button  onClick={this.createAccount}className=\"clickable hover\">CREATE ACCOUNT</button>\n                    </div>\n                )\n            }\n        ];\n    }\n\n    async hashPassword(password){\n        let hashedPassword = sha256(password)\n        return hashedPassword.toString()\n    }\n\n    setCurrentTab(cur) {\n        this.inputs = [document.getElementById(\"username\"),document.getElementById(\"password\")]\n        if (document.getElementById(\"email\")){\n            this.inputs.push(document.getElementById(\"email\"))\n        }\n        this.inputs.forEach(x => {\n            x.value = \"\"\n            x.nextElementSibling.innerHTML = \"\";\n            x.classList.remove(\"input-success\")\n            x.classList.remove(\"input-error\")\n        })\n        this.setState({ currentTab:cur });\n    }\n\n    error(element, err) {\n        element.classList.add(\"input-error\")\n        element.classList.remove(\"input-success\")\n        element.nextElementSibling.innerHTML = err;\n    }\n\n    fine(element) {\n        element.classList.add(\"input-success\")\n        element.classList.remove(\"input-error\")\n        element.nextElementSibling.innerHTML = \"\";\n    }\n\n    async createAccount (e){\n        this.username = document.getElementById(\"username\").value\n        let isErr = false;\n        if (!this.username.match(/^[\\w]{1,32}$/)){\n            this.error(document.getElementById(\"username\"), \"username should be less than 32 characters long.\");\n            isErr = true;\n        } else {\n            this.fine(document.getElementById(\"username\"));\n        }\n        this.email = document.getElementById(\"email\").value\n        if (!this.email.match(/[^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.ac\\.uk/)){\n            this.error(document.getElementById(\"email\"), \"email not valid form.\");\n            isErr = true;\n        } else {\n            this.fine(document.getElementById(\"email\"));\n        }\n\n        this.password = document.getElementById(\"password\").value\n        if (!this.password.match(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/)){\n            this.error(document.getElementById(\"password\"), \"password should be 8 characters, have atleast 1 lower and upper case letter, a number and a special character\");\n            isErr = true;\n        } else {\n            this.fine(document.getElementById(\"password\"));\n        }\n        if (isErr){\n            return\n        }\n        let user = {\n            username : this.username,\n            email : this.email,\n            passwordHash : await this.hashPassword(this.password)\n        }\n        let response = await fetch('/createUser', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify(user)\n        });\n        let resjson = await response.json()\n        if (resjson.error){\n            let displayedError = false\n            if (resjson.error.toLowerCase().includes(\"password\")){\n                this.error(document.getElementById(\"password\"),resjson.error)\n                displayedError = true\n            }\n            if (resjson.error.toLowerCase().includes(\"email\")){\n                this.error(document.getElementById(\"email\"),resjson.error)\n                displayedError = true\n            }\n            if (resjson.error.toLowerCase().includes(\"username\")){\n                this.error(document.getElementById(\"username\"),resjson.error)\n                displayedError = true\n            }\n            if (!displayedError){\n                this.error(document.getElementById(\"username\"),resjson.error)\n                this.error(document.getElementById(\"password\"),resjson.error)\n            }\n        } else {\n            this.setState({ token: resjson.token, username:this.username, loggedIn : true});\n            this.cookies.set('token', resjson.token, { path: '/' });\n            this.cookies.set('username', this.username, { path: '/' });\n            this.login()\n\n            this.getProfileInfo()\n        }\n    }\n\n    search(event){\n      this.setState({searchTerm: event.target.value});\n    }\n\n    async signin(e){\n        let user = {\n            username : document.getElementById(\"username\").value,\n            passwordHash :await this.hashPassword(document.getElementById(\"password\").value)\n        }\n        let response = await fetch('/isUser', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8'\n            },\n            body: JSON.stringify(user)\n        });\n        let resjson = await response.json()\n        if (resjson.error){\n            let displayedError = false\n            if (resjson.error.toLowerCase().includes(\"password\")){\n                this.error(document.getElementById(\"password\"),resjson.error)\n                displayedError = true\n            }\n            if (resjson.error.toLowerCase().includes(\"username\")){\n                this.error(document.getElementById(\"username\"),resjson.error)\n                displayedError = true\n            }\n            if (!displayedError){\n                this.error(document.getElementById(\"username\"),resjson.error)\n                this.error(document.getElementById(\"password\"),resjson.error)\n            }\n        } else {\n            this.setState({ token: resjson.token, username:resjson.username,loggedIn : true});\n            this.cookies.set('token', resjson.token, { path: '/' });\n            this.cookies.set('username', resjson.username, { path: '/' });\n            this.login()\n            this.getProfileInfo()\n        }\n    }\n\n    async getProfileInfo(){\n            let response = await fetch(\"/getUserInfo/\"+this.state.username+\"&token=\"+this.state.token);\n            let resdata = await response.json();\n            if (resdata.error){\n                this.failedRequest()\n                this.setState({ profile: null })\n            } else {\n                this.setState({ profile: resdata})\n            }\n    }\n\n    failedRequest(){\n        this.cookies.remove('username')\n        this.cookies.remove('token')\n        this.setState({ token:'' , username: '', loggedIn: false});\n    }\n\n    async login(e) {\n        this.setState({ showLogin: !this.state.showLogin});\n    }\n\n    upload() {\n        this.getProfileInfo()\n        this.setState({ showUpload: !this.state.showUpload });\n    }\n\n\n\n    async publishFile(event){\n        let no = event.target.id.split(\"button\")[1]\n        let title =document.getElementById(\"title\"+no).value\n        let module = document.getElementById(\"module\"+no).value\n        let description = document.getElementById(\"description\"+no).value\n        let formData = new FormData();\n        formData.append('upload', this.state.files[no])\n        formData.append('username', this.state.username)\n        formData.append('token', this.state.token)\n        formData.append('unitcode', module)\n        formData.append('title', title)\n        formData.append('description', description)\n        let response = await fetch(\"/createPost\", {\n            method:\"POST\",\n            body: formData,\n        })\n        let resjson = await response.json()\n        if (resjson.error){\n            document.getElementById(\"error\"+no).innerHTML = resjson.error\n        } else {\n            let temp=this.state.files;\n            temp.splice(no,1);\n            if (!temp){\n                temp = []\n            }\n            this.setState({files:temp})\n            this.upload();\n        }\n    }\n\n    fileUploaded(files) {\n        console.log(files)\n        if (files){\n            if (files.length !== 0){\n                for(let i=0;i<files.length;i++){\n                    if(!this.state.files.find(x => x.name === files[i].name)){\n                        this.state.files.push(files[i])\n                        this.setState({files:this.state.files})\n                    }\n                }\n            }\n        }\n    };\n\n    render() {\n        return (\n            <div className=\"app\">\n                <Navbar token={this.state.token} failCallback={this.failedRequest} username={this.state.username} loggedIn={this.state.loggedIn} uploadCallback={this.upload} loginCallback={this.login} searchCallback ={this.search} />\n                {/* modal is initially hidden and shown when this.login is called */}\n                <Modal show={this.state.showLogin} handleClose={this.login}>\n                    {/* sets up the tab buttons */}\n                    <div className=\"tabs\">\n                        {this.signInTabs.map((tab, i) => (\n                            <button\n                                key={i}\n                                onClick={() => this.setCurrentTab(tab.name)}\n                                className={`clickable ${(tab.name === this.state.currentTab) ? 'active' : ''}`}>\n                                {tab.label}\n                            </button>\n                        ))}\n                    </div>\n                    {/* line below draws signin/create account based on whats picked */}\n                    { this.signInTabs.find(tab => tab.name === this.state.currentTab).content}\n                </Modal>\n                {/* modal is initially hidden and shown when this.upload is called */}\n                <Modal className={\"uploadModal\"} show={this.state.showUpload} handleClose={this.upload}>\n                    <UploadArea handleDrop={this.fileUploaded} filetype=\"PDF\" />\n                    <div className=\"queued-files\">Queued Files</div>\n                    <div className=\"uploaded-files\">\n                        {this.state.files.map((file,i) => (\n                            <section key={i} className=\"file-upload-section\">\n                                <div className=\"file-upload-header\">\n                                    <img alt=\"pdf\" src={pdf}/>\n                                    <div className=\"file-upload-filename\">{file.name}</div>\n                                </div>\n                                <div className=\"file-upload-inputs\">\n                                    <div className=\"file-upload-title-module\">\n                                        <input id={\"title\"+i} className=\"file-upload-title\" placeholder=\"Title... (required)\"/>\n                                        <select id={\"module\"+i} className=\"file-upload-module\" onChange={(event) => {this.setState({unitFilter:event.target.value})}}>\n                                            {this.state.profile.units.map((unit,i)=>{return (\n                                                <option key={i} value={unit.UnitCode}>{unit.UnitCode}</option>\n                                            )})}\n                                        </select>\n                                    </div>\n                                    <textarea id={\"description\"+i} type=\"textarea\" className=\"file-upload-description\" placeholder=\"Description... (required)\"/>\n                                    <div id={\"error\"+i}></div>\n                                    <button id={\"button\"+i} onClick={this.publishFile}>Publish</button>\n                                </div>\n                                <img src={cross} alt=\"Close\" className=\"file-upload-close clickable hover\" onClick={() => {\n                                    let temp=this.state.files;\n                                    temp.splice(i,1);\n                                    if (!temp){\n                                        temp = []\n                                    }\n                                    console.log(temp)\n                                    this.setState({files:temp})\n\n                                }}/>\n                            </section>\n                        ))}\n                    </div>\n                </Modal>\n                {/* part of react router handles different paths given to it */}\n                <Switch>\n                    <Route path=\"/reset-password\" component={Reset} />\n                    <Route path=\"/profile/:username\" render={(data) => <Profile token={this.state.token} failCallback={this.failedRequest} myusername={this.state.username} username={data.match.params.username} loggedIn={this.state.loggedIn}/>}/>\n                    <Route path =\"/note/:noteid\" render={(data) => <NotePreview token={this.state.token} path={data.match.params.noteid} failCallback= {this.failedRequest} />} />\n                    <Route path =\"/search/:searchid\" render={(data) => <SearchPage token={this.state.token} failCallback= {this.failedRequest} username={this.state.username}  loggedIn={this.state.loggedIn} searchTerm = {data.match.params.searchid}/>} />\n                    <Route path=\"/\" render={(data) => this.state.loggedIn ? <Home/> : <NotLoggedInPage loginCallback = {this.login} signInTabs = {this.signInTabs} currentTab = {this.currentTab} />} />\n                </Switch>\n            </div>\n        );\n\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n    , document.getElementById('root')\n);\n\n"],"sourceRoot":""}